(this.webpackJsonptodos=this.webpackJsonptodos||[]).push([[0],[,,function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"r",(function(){return s})),n.d(t,"s",(function(){return d})),n.d(t,"q",(function(){return f})),n.d(t,"o",(function(){return m})),n.d(t,"p",(function(){return g})),n.d(t,"n",(function(){return p})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return h})),n.d(t,"h",(function(){return v})),n.d(t,"l",(function(){return O})),n.d(t,"m",(function(){return E})),n.d(t,"k",(function(){return _}));var a="CHECK_AUTH",r="AUTH_START",o="AUTH_SUCCESS",c="AUTH_FAIL",i="LOGOUT_START",l="LOGOUT_SUCCESS",u="LOGOUT_FAIL",s="TODO_FETCH_START",d="TODO_FETCH_SUCCESS",f="TODO_FETCH_FAIL",m="TODO_DELETE_START",g="TODO_DELETE_SUCCESS",p="TODO_DELETE_FAIL",b="TODO_ADD_START",h="TODO_ADD_SUCCESS",v="TODO_ADD_FAIL",O="TODO_CHECKED_START",E="TODO_CHECKED_SUCCESS",_="TODO_CHECKED_FAIL"},,,,,,,,,,function(e,t,n){"use strict";var a=n(60),r=n.n(a).a.create({baseURL:"https://resource-api.alfarisilab.com/api"});t.a=r},function(e,t,n){"use strict";function a(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}n.d(t,"a",(function(){return a}))},,,,,,,function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(59),c=n.n(o);t.a=function(){return r.a.createElement("div",{className:c.a.Spinner})}},function(e,t,n){"use strict";var a=n(10),r=n(11),o=n(12),c=n(13),i=function(){function e(){Object(a.a)(this,e)}return Object(r.a)(e,[{key:"login",value:function(e,t){return o.a.post("/login",{email:e,password:t})}},{key:"logout",value:function(){return o.a.post("/logout",{},{headers:Object(c.a)()})}},{key:"register",value:function(e){var t=e.full_name,n=e.email,a=e.password;return o.a.post("/register",{full_name:t,email:n,password:a}).then((function(e){return e})).catch((function(e){console.log(e)}))}},{key:"verify",value:function(){return o.a.get("/verify",{headers:Object(c.a)()})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}();t.a=new i},,function(e,t,n){e.exports={SideDrawer:"SideDrawer_SideDrawer__3kXLK",Open:"SideDrawer_Open__1tCv1",Close:"SideDrawer_Close__9j7x-"}},function(e,t,n){e.exports={Input:"Input_Input__3r5Ke",Label:"Input_Label__1qyHr",InputElement:"Input_InputElement__2m88K",Invalid:"Input_Invalid__16Mis"}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"g",(function(){return p})),n.d(t,"f",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return v}));var a=n(2),r=n(21),o=function(e){var t=JSON.parse(localStorage.getItem("user")).token;return{type:a.c,data:e,token:t}},c=function(){return localStorage.removeItem("user"),{type:a.g}},i=function(e,t){return function(n){n({type:a.b}),r.a.login(e,t).then((function(e){localStorage.setItem("user",JSON.stringify(e.data)),n(o(e.data.results))})).catch((function(e){var t;n((t=e,{type:a.a,error:t}))}))}},l=function(){return function(e){e({type:a.d}),localStorage.getItem("user")&&r.a.verify().then((function(t){e(o(t.data.results))})).catch((function(t){e(c())}))}},u=function(){return function(e){e({type:a.f}),r.a.logout().then((function(t){e(c())})).catch((function(t){e(function(e){return localStorage.removeItem("user"),{type:a.e,error:e}}(t))}))}},s=n(10),d=n(11),f=n(12),m=n(13),g=new(function(){function e(){Object(s.a)(this,e)}return Object(d.a)(e,[{key:"getTodos",value:function(){return f.a.get("/todo",{headers:Object(m.a)()})}},{key:"deleteTodo",value:function(e){return f.a.delete("/todo/"+e,{headers:Object(m.a)()})}},{key:"newTodo",value:function(e){return f.a.post("/todo",{title:e},{headers:Object(m.a)()})}},{key:"checkedToggle",value:function(e){return f.a.get("/toggle_checked/"+e,{headers:Object(m.a)()})}}]),e}()),p=function(){return function(e){e({type:a.r}),g.getTodos().then((function(t){var n;e((n=t.data.results,{type:a.s,data:n}))})).catch((function(t){var n;e((n=t,{type:a.q,error:n}))}))}},b=function(e){return function(t){t({type:a.o}),g.deleteTodo(e).then((function(n){t(function(e){return{type:a.p,id:e}}(e))})).catch((function(e){var n;t((n=e,{type:a.n,error:n}))}))}},h=function(e){return function(t){t({type:a.i}),g.newTodo(e).then((function(e){var n;t((n=e.data.results,{type:a.j,data:n}))})).catch((function(e){var n;t((n=e,{type:a.h,error:n}))}))}},v=function(e){return function(t){t({type:a.l}),g.checkedToggle(e).then((function(n){t(function(e){return{type:a.m,id:e}}(e))})).catch((function(e){var n;t((n=e,{type:a.k,error:n}))}))}}},,function(e,t,n){e.exports={Messaage:"ErrorMessage_Messaage__345HG",Error:"ErrorMessage_Error__O0bqz",Success:"ErrorMessage_Success__3KVLX"}},,,,function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__ApScI",DesktopOnly:"Toolbar_DesktopOnly__LuPaL"}},function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__1fnFX"}},function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__2SpXc",active:"NavigationItem_active__2v2td"}},,,function(e,t,n){e.exports={Button:"Button_Button__3gFiX",Primary:"Button_Primary__38CGK",enable:"Button_enable__1Clcb"}},function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(28),c=n.n(o);t.a=function(e){var t=null;return"error"===e.messageType&&(t=c.a.Error),"success"===e.messageType&&(t=c.a.Success),r.a.createElement("div",{className:c.a.Messaage},r.a.createElement("span",{className:t}," ",e.children," "))}},,,,function(e,t,n){"use strict";var a=n(1),r=n(10),o=n(11),c=n(18),i=n(17),l=n(0),u=n.n(l),s=n(58),d=n.n(s),f=n(43),m=n(44),g=n(20),p=n(4),b=n(38),h=n(16),v=n(26),O=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,c=new Array(o),i=0;i<o;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={form_data:{email:{elementType:"input",elementConfig:{type:"email",placeholder:"Enter email",autoFocus:!0},label:"Email",value:"",validation:{required:!0,isEmail:!0},valid:!1,touched:!1},password:{elementType:"input",elementConfig:{type:"password",placeholder:"Enter password"},label:"Password",value:"",validation:{required:!0},valid:!1,touched:!1}},formIsValid:!1,loading:!1,errorMessage:""},e.onCheckValidity=function(e,t){var n=!0;return t.required&&(n=""!==e.trim()&&n),n},e.onChangeHandler=function(t,n){var r=Object(a.a)({},e.state.form_data),o=Object(a.a)({},r[n]);o.value=t.target.value,o.valid=e.onCheckValidity(t.target.value,o.validation),o.touched=!0,r[n]=o;var c=!0;for(var i in r)c=r[i].valid&&c;e.setState({form_data:r,formIsValid:c})},e.onSubmitHandler=function(t){t.preventDefault(),e.props.onAuthentication(e.state.form_data.email.value,e.state.form_data.password.value)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=[],n=null;for(var a in this.state.form_data)t.push({id:a,config:this.state.form_data[a]});var r=u.a.createElement("form",{onSubmit:this.onSubmitHandler},t.map((function(t){return u.a.createElement(m.a,{key:t.id,label:t.config.label,elementType:t.config.elementType,elementConfig:t.config.elementConfig,value:t.config.value,invalid:!t.config.valid,shouldValidate:t.config.validation,touched:t.config.touched,changed:function(n){return e.onChangeHandler(n,t.id)}})})),u.a.createElement("div",{style:{textAlign:"right"}},this.props.loading?u.a.createElement("div",null," ",u.a.createElement(g.a,null)," "):u.a.createElement(f.a,{disabled:!this.state.formIsValid,btnType:"Primary"},"SUBMIT")));return this.props.error&&(n=u.a.createElement(b.a,{messageType:"Error"}," ",this.props.error.message," ")),u.a.createElement("div",{className:d.a.Login},u.a.createElement("h2",null,"Log in"),r,n)}}]),n}(l.Component);t.a=Object(h.b)((function(e){return{loading:e.auth.loading,error:e.auth.error}}),(function(e){return{onAuthentication:function(t,n){return e(v.a(t,n))}}}))(Object(p.g)(O))},function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(37),c=n.n(o);t.a=function(e){return r.a.createElement("button",{disabled:e.disabled,className:[c.a.Button,c.a[e.btnType]].join(" "),onClick:e.clicked}," ",e.children," ")}},function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(24),c=n.n(o);t.a=function(e){var t=null,n=[c.a.InputElement];switch(e.invalid&&e.shouldValidate&&e.touched&&n.push(c.a.Invalid),e.elementType){case"input":t=r.a.createElement("input",Object.assign({},e.elementConfig,{value:e.value,className:n.join(" "),onChange:e.changed}));break;default:t=r.a.createElement("input",Object.assign({},e.elementConfig,{value:e.value,className:n.join(" "),onChange:e.changed}))}return r.a.createElement("div",{className:c.a.Input},r.a.createElement("label",{className:c.a.Label},e.label),t,r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement("span",{style:{color:"red"}},null)))}},,,,,,,,,,function(e,t,n){e.exports={Logo:"Logo_Logo__1N0xH"}},function(e,t,n){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__m405X"}},function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},function(e,t,n){e.exports={Content:"Layout_Content__3H3X8"}},function(e,t,n){e.exports={Login:"Login_Login__38Sbn"}},function(e,t,n){e.exports={Spinner:"Spinner_Spinner__BWqNs"}},,,function(e,t,n){e.exports=n(90)},,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(25),c=n.n(o),i=(n(67),n(16)),l=n(10),u=n(11),s=n(18),d=n(17),f=n(32),m=n.n(f),g=n(33),p=n.n(g),b=n(34),h=n.n(b),v=n(19),O=function(e){return r.a.createElement("li",{className:h.a.NavigationItem},r.a.createElement(v.b,{exact:!0,to:e.link,activeClassName:h.a.active},e.children))},E=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return this.props.isLogin?r.a.createElement("ul",{className:p.a.NavigationItems},r.a.createElement(O,{link:"/"}," Todo "),r.a.createElement(O,{link:"/logout"}," Logout ")):r.a.createElement("ul",{className:p.a.NavigationItems},r.a.createElement(O,{link:"/"}," Login "),r.a.createElement(O,{link:"/register"}," Register "))}}]),n}(a.Component),_=n(54),j=n.n(_),S=function(){return r.a.createElement("div",{className:j.a.Logo},r.a.createElement("div",null,"Todo's App"))},y=n(55),T=n.n(y),k=function(e){return r.a.createElement("div",{className:T.a.DrawerToggle,onClick:e.clicked},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},w=function(e){return r.a.createElement("header",{className:m.a.Toolbar},r.a.createElement(k,{clicked:e.toggleHandler}),e.isShowSideDrawer?null:r.a.createElement(S,null),r.a.createElement("nav",{className:m.a.DesktopOnly},r.a.createElement(E,{isLogin:e.isLogin})))},C=n(23),D=n.n(C),L=n(56),I=n.n(L),N=function(e){return e.show?r.a.createElement("div",{className:I.a.Backdrop,onClick:e.clicked}):null},A=function(e){var t=[D.a.SideDrawer,D.a.Close];return e.open&&(t=[D.a.SideDrawer,D.a.Open]),r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{show:e.open,clicked:e.closed}),r.a.createElement("div",{className:t.join(" "),onClick:e.closed},r.a.createElement(S,null),r.a.createElement("nav",{style:{marginTop:"20px"}},r.a.createElement(E,{isLogin:e.isLogin}))))},H=n(57),x=n.n(H),U=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isShowSideDrawer:!1},e.sideDrawerCloseHandler=function(){e.setState({isShowSideDrawer:!1})},e.sideDrawerToggleHandler=function(){e.setState((function(e){return{isShowSideDrawer:!e.isShowSideDrawer}}))},e}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w,{isLogin:this.props.isLogin,toggleHandler:this.sideDrawerToggleHandler,isShowSideDrawer:this.state.isShowSideDrawer}),r.a.createElement(A,{isLogin:this.props.isLogin,open:this.state.isShowSideDrawer,closed:this.sideDrawerCloseHandler}),r.a.createElement("main",{className:x.a.Content},this.props.children))}}]),n}(a.Component),B=n(4),F=n(42),K=n(26),M=n(20),V=Object(a.lazy)((function(){return Promise.all([n.e(6),n.e(3)]).then(n.bind(null,104))})),q=Object(a.lazy)((function(){return n.e(4).then(n.bind(null,102))})),R=Object(a.lazy)((function(){return n.e(5).then(n.bind(null,103))})),X=Object(i.b)((function(e){return{auth:e.auth}}),(function(e){return{checkAuth:function(){return e(K.b())}}}))((function(e){var t=Object(a.useCallback)((function(){e.checkAuth()}),[e]);Object(a.useEffect)((function(){t()}),[]);var n=r.a.createElement(B.d,null,r.a.createElement(B.b,{path:"/",exact:!0,component:F.a}),r.a.createElement(B.b,{path:"/register",render:function(){return r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",{className:"loading-bottom"},r.a.createElement(M.a,null)," ")},r.a.createElement(R,null))}}),r.a.createElement(B.a,{to:"/"}));return e.auth.isLogin&&(n=r.a.createElement(B.d,null,r.a.createElement(B.b,{path:"/",exact:!0,render:function(){return r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",{className:"loading-bottom"},r.a.createElement(M.a,null)," ")},r.a.createElement(V,null))}}),r.a.createElement(B.b,{path:"/logout",render:function(){return r.a.createElement(a.Suspense,{fallback:r.a.createElement("div",{className:"loading-bottom"},r.a.createElement(M.a,null)," ")},r.a.createElement(q,null))}}),r.a.createElement(B.a,{to:"/"}))),r.a.createElement("div",null,r.a.createElement(U,{isLogin:e.auth.isLogin},n))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=n(14),J=n(61),z=n(1),G=n(2),W=n(21),$={currentUser:null,token:null,isLogin:!1,loading:!1,error:null},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.b:return Object(z.a)(Object(z.a)({},e),{},{loading:!0});case G.c:return Object(z.a)(Object(z.a)({},e),{},{loading:!1,currentUser:t.data,token:t.token,isLogin:!0,error:null});case G.a:return Object(z.a)(Object(z.a)({},e),{},{currentUser:null,loading:!1,error:t.error});case G.d:var n=W.a.getCurrentUser();return n?Object(z.a)(Object(z.a)({},e),{},{isLogin:!0,loading:!1}):Object(z.a)(Object(z.a)({},e),{},{isLogin:!1,loading:!1});case G.f:return Object(z.a)(Object(z.a)({},e),{},{loading:!0});case G.g:return Object(z.a)(Object(z.a)({},e),{},{isLogin:!1,currentUser:null,loading:!1});case G.e:return Object(z.a)(Object(z.a)({},e),{},{isLogin:!1,currentUser:null,loading:!1,error:t.error});default:return e}},Y=n(29),Z={todos:[],loading:null,error:null},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.r:return Object(z.a)(Object(z.a)({},e),{},{loading:!0,error:null});case G.s:var n=t.data.map((function(e){return Object(z.a)(Object(z.a)({},e),{},{checked:"yes"===e.checked})}));return Object(z.a)(Object(z.a)({},e),{},{loading:!1,error:null,todos:n});case G.q:return Object(z.a)(Object(z.a)({},e),{},{loading:!1,error:t.error});case G.o:return Object(z.a)(Object(z.a)({},e),{},{error:null});case G.p:var a=Object(Y.a)(e.todos),r=a.filter((function(e){return e.id!==t.id}));return Object(z.a)(Object(z.a)({},e),{},{loading:!1,error:null,todos:r});case G.n:return Object(z.a)(Object(z.a)({},e),{},{loading:!1,error:t.error});case G.i:return Object(z.a)(Object(z.a)({},e),{},{loading:!0,error:null});case G.j:return Object(z.a)(Object(z.a)({},e),{},{loading:!1,todos:[].concat(Object(Y.a)(e.todos),[Object(z.a)(Object(z.a)({},t.data),{},{checked:!1})])});case G.h:return Object(z.a)(Object(z.a)({},e),{},{loading:!1,error:t.error});case G.l:return Object(z.a)({},e);case G.m:var o=e.todos.findIndex((function(e){return e.id===t.id})),c=Object(Y.a)(e.todos);return c[o]=Object(z.a)(Object(z.a)({},c[o]),{},{checked:!c[o].checked}),Object(z.a)(Object(z.a)({},e),{},{loading:!1,todos:c});default:return e}},te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||P.d,ne=Object(P.c)({auth:Q,todo:ee}),ae=Object(P.e)(ne,te(Object(P.a)(J.a)));c.a.render(r.a.createElement(i.a,{store:ae},r.a.createElement(v.a,{basename:"/"},r.a.createElement(X,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[62,1,2]]]);
//# sourceMappingURL=main.cf8714db.chunk.js.map